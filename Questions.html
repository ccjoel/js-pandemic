<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.js"></script>

  <style type="text/css">
   p {
       padding-left: 15px;
   }
   #question {
       border: 1px solid gray;
   }
   div {
       padding: 15px;
       border: 1px solid blue;
   }
  </style>
  <title> by ICS</title>

  <!-- Load functions -->
  <script src="index.js"></script>

  <script type='text/javascript'>
    $(function() {

    // ========================= Conventions ===============================
    /**
    * - NOTE for meta on solution, mostly over explains for interview purposes.
    *
    * Moved function implementation to index.js
    **/

    // ============================== DOM Helpers =============================

    function appendNewLine(selector) {
        $(selector).append(document.createElement('br'));
    }

    function appendMultiple(selector, arrResults) {
        const element = $(selector);             // NOTE Find element on dom once
        // NOTE Side effects only
        arrResults.forEach(result => {
            element.append(result || '{empty}'); // NOTE {empty} used to account result on page.
            appendNewLine(selector);
        });
    }

    // ============================== Q Solutions ===================================

    /**
    * Generates all prime numbers between two given numbers.
    **/
    function Q1(number1, number2) {
        let returnValue = primes(number1, number2);
        return returnValue.join(' ');
    }

    /* Given a positive integer number, generates the next palindrome. */
    function Q2(K) {
        return nextPalindrome(K);
    }

    /**
    * Compresses a string.
    * eg: "bdddda" => "bd4a"
    **/
    function Q3(string1, algo='lookahead') {
        if (typeof string1 !== 'string') {
            throw new TypeError(`Q3: Expected argument for "string1" to be a string, received: ${string1}`);
        }
        const compress = compress_algorithms[algo];
    
        if (!compress) {
            const available = Object.getOwnPropertyNames(compress_algorithms).join(', ');
            throw new RangeError(`Q3: Expected algo algorithm to be one of ${available}, but got ${algo}.`);
        }
    
        return compress(string1);
    }


    // ===================== Append results to questions ===================

    appendMultiple('#results1', [
        Q1(1, 10),
        Q1(3, 23)
    ]);

    const q2Selector = '#results2';

    appendMultiple(q2Selector, [
        Q2(907008).toString(),
        Q2('90700828734').toString(),
        Q2(2387384734844343n).toString(),
    ]);

    // Example of Q2 that fails some validation
    let q2error = null;
    try {
        q2error = Q2('a');
    } catch(e) {
        // NOTE We will always fallback to append regardless of error type
        q2error = `Caught expected error: ${e.message}`;
    }

    $(q2Selector).append(q2error);

    const q3Selector = '#results3';
    appendMultiple(q3Selector, [
        Q3('aaabaaaaccaaaaba'),
        Q3('a'),
        Q3('1'),
        Q3(''),
        Q3('aaabaaaaccaaaaba', 'regex'),
        Q3('aaaa', 'lookahead'),
        Q3('c', 'lookahead'),
        Q3('caaazwwbb', 'lookahead'),
        Q3('abcd', 'regex'),
        Q3('aabcb11', 'mixed')
    ]);

    // Example of Q2 that fails some validation
    let q3error = null;
    try {
        q3error = Q3(4);
    } catch(e) {
        q3error = `Caught expected error: ${e.message}.`;
    }
    $(q3Selector).append(q3error);

   });

    </script>

</head>

<body>
  <!--don't edit this file-->
<div id=question>
  <span style="font-weight:bold">Question 1:</span> Generate all prime numbers between two given numbers.
  The two numbers are parameters that can be passed into the function. A prime number is one that is only
  divisible by 1 and itself. Output the results into the results element below.
  <p>
    Example:
    <br/> Primes between 1 and 10
    <br/> Output:
    <br/> 2
    <br/> 3
    <br/> 5
    <br/> 7
    <br/>
  </p>
</div>
<br/>
<p>Your Results:</p>
<div id="results1"></div>
<br/>
<div id=question>
<span style="font-weight:bold">Question 2:</span> A positive integer is called a palindrome if its
representation in the decimal system is the same when read from left to right and from right to left.
For a given positive integer K of not more than 1000000 digits, write the value of the smallest
palindrome larger than K to output. Numbers are always displayed without leading zeros.
  <P>
    Example:
    <br/> Number Given: 808
    <br/> Output: 818
    <br/> Number Given: 2133
    <br/> Output: 2222
    <br/>
  </P>
</div>
<br/>
<p>Your Results:</p>
<div id="results2"></div>
<br/>
<div id="question">
  <span style="font-weight:bold">Question 3:</span> Write a simple string compression algorithm.
  If a character [ch] occurs n>1 times in a row, then it will be represented by [ch][n].
  <P>
    Example:
    <br/> String Given: aaaa
    <br/> Output: a4
    <br/>
    <br/> String Given: aaabaaaaccaaaaba
    <br/> Output: a3ba4c2a4ba
    <br/>
    <br/> String Given: abcd
    <br/> Output: abcd
    <br/>
  </P>
</div>
<br/>
<p>Your Results:</p>
<div id="results3"></div>
</body>

</html>
